<div class="index">
    <h1>Home</h1>
    <hr>
    <% if user_signed_in? %>
        <%= link_to new_event_path do%>
            <div class="new-event"> 
                <span>New Event</span>
                <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
                </svg>
            </div>
        <% end %>
    <% else %>
        <div class="new-event">
            <p> Log in to create an event. </p>
        </div>
    <% end %>

    <h2>Future Events:</h2>
    <hr>
    <% Event.future.each do |event| %>
        <div class="event-card">
            <%= link_to event do %>
                <p><%= event.name %></p>
            <% end %>
            <p><span>venue:</span> <%= event.venue %></p>
            <p><span>date:</span> <%= event.date %></p>

            <% if user_signed_in? %>
                <!-- <%= button_to "Join", attendee_events_path(attendee_id: current_user.id, event_attended_id: event.id) %> -->
                <%= button_to attendee_events_path(attendee_id: current_user.id, event_attended_id: event.id) do %>
                    <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z" />
                    </svg>
                <% end %>
            <% else %>
                <div>log in to join an event.</div>
            <% end %>
        </div>
    <% end %>

    <h2>Past Events:</h2>
    <hr>
    <% Event.past.each do |event| %>
        <div class="event-card">
            <%= link_to event do %>
                <p><%= event.name %></p>
            <% end %>
            <p><span>venue:</span> <%= event.venue %></p>
            <p><span>date:</span> <%= event.date %></p>

            <% if user_signed_in? %>
                <!-- <%= button_to "Join", attendee_events_path(attendee_id: current_user.id, event_attended_id: event.id) %> -->
                <%= button_to attendee_events_path(attendee_id: current_user.id, event_attended_id: event.id) do %>
                    <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z" />
                    </svg>
                <% end %>
            <% else %>
                <div>log in to join an event.</div>
            <% end %>
        </div>
    <% end %>
</div>